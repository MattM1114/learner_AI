<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="Navigation panel.css">
<meta charset="UTF-8">
<title>Contact</title>
<script type="text/javascript">function submitForm() {
        // Get form values
        var name = document.getElementById("name").value;
        var email = document.getElementById("email").value;
        var message = document.getElementById("message").value;
    
        // Validate form
        if (validateForm(name, email, message)) {
        // Send AJAX request
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "/submit-form");
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onload = function() {
            if (xhr.status === 200) {
            alert("Message sent successfully!");
            document.getElementById("formDiv").reset();
            } else {
            alert("Error sending message! Please try again later.");
            }
            };
            var data = JSON.stringify({ name: name, email: email, message: message });
            xhr.send(data);
            } else {
            alert("Please fill out all fields!");
            return false;
            }
        }
        
        // Validate form
        function validateForm(name, email, message) {
            if (name == "" || email == "" || message == "") {
            return false;
            }
        
            // Regex to validate email format
            var regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!regex.test(email)) {
            return false;
            }
        
            return true; // All fields are valid</script>
</head>
<body>
    <h1>Contact us</h1>
    <div id="formDiv">
        <label for="name">Name:</label>
        <input type="text" id="name">
        <br>
        <br>
        <label for="email">Email:</label>
        <input type="email" id="email">
        <br>
        <br>
        <label for="message">Message:</label>
        <textarea id="message" style="width: 50%; height: 80%;"></textarea>
        <br>
        <br>
        <button onclick="submitForm()">Submit</button>
        <script src="contact_form.js">
        </script>

</body>
</html>
